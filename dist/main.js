(()=>{"use strict";const t=(t,e)=>({name:t,cpuAttack:function t(e){let n=Math.floor(100*Math.random()+1);!0===e.isValidAttackSpace(n)?(e.receiveAttack(n),console.log(`${n} has not been fired at`)):(console.log("repeat"),t(e))}});let e=(()=>{let t=[],e=[];for(let e=1;e<101;e++)t[e]="empty";function n(e){return"empty"!==t[e]&&"miss"!==t[e]&&"hit"!==t[e]}return{addShip:function(n,o,r,...i){n=((t,e,...n)=>{let o=0,r=n,i=0;return{hit:function(t){r[r.indexOf(t)]="hit",o+=1},isSunk:function(t){return o===e&&(i+=1,!0)},shipsSunk:i,name:t,hitLocations:r}})(o,r,...i);let l=o,a=i;for(let e=0;e<a.length;e++){let n=a[e];t[n]=`${l}`}e.push(n)},locationArray:t,isValidAttackSpace:function(e){return"miss"!==t[e]&&"hit"!==t[e]},isShip:n,receiveAttack:function(o){if(!0===n(o)){let n=t[o];e.find((({name:t})=>t===n)).hit(o),t[o]="hit"}else t[o]="miss"},allShipsArray:e,checkAllShips:function(){return 5===shipsSunk}}})();e.addShip("destroyer","destroyer",4,6,7,8,9),t("Bryan"),t("Computer"),function(t){let e=document.getElementById("playerboard");for(let n=1;n<101;n++){let o=document.createElement("div");o.classList+="gridSpace",o.setAttribute("data-gridID",n),"hit"===t[n]?(o.textContent="hit",o.style.backgroundColor="green"):"miss"===t[n]?(o.textContent="miss",o.style.backgroundColor="red"):"empty"===t[n]?o.style.backgroundColor="white":o.style.backgroundColor="grey",e.appendChild(o)}}(e.locationArray),function(t){let e=document.getElementById("cpuboard");for(let n=1;n<101;n++){let o=document.createElement("div");o.classList+="gridSpace",o.setAttribute("data-cpugridID",n),"hit"===t[n]?(o.textContent="hit",o.style.backgroundColor="green"):"miss"===t[n]?(o.textContent="miss",o.style.backgroundColor="red"):"empty"===t[n]?o.style.backgroundColor="white":o.style.backgroundColor="grey",e.appendChild(o)}}(e.locationArray),console.table(e.locationArray),console.table(e.allShipsArray)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUdBLEVBQUksSUFBS0EsSUFBSyxDQUMxQixJQUFJeUIsRUFBWUYsU0FBU0csY0FBYyxPQUN2Q0QsRUFBVUUsV0FBYSxZQUN2QkYsRUFBVUcsYUFBYSxpQkFBa0I1QixHQUN4QixRQUFic0IsRUFBTXRCLElBQ055QixFQUFVSSxZQUFjLE1BQ3hCSixFQUFVSyxNQUFNQyxnQkFBa0IsU0FFaEIsU0FBYlQsRUFBTXRCLElBQ1h5QixFQUFVSSxZQUFjLE9BQ3hCSixFQUFVSyxNQUFNQyxnQkFBa0IsT0FFaEIsVUFBYlQsRUFBTXRCLEdBQ1h5QixFQUFVSyxNQUFNQyxnQkFBa0IsUUFHbENOLEVBQVVLLE1BQU1DLGdCQUFrQixPQUV0Q0csRUFBU0YsWUFBWVAsRUFDckIsQ0FDUixDRHdFQVUsQ0FBZXRDLEVBQVVDLGVBQ3pCSCxRQUFReUMsTUFBTXZDLEVBQVVDLGVBQ3hCSCxRQUFReUMsTUFBTXZDLEVBQVVFLGMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZG9tLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7cmVuZGVyQ1BVQm9hcmQsIHJlbmRlclBsYXllckJvYXJkfSBmcm9tICcuL2RvbSdcblxuXG5jb25zdCBzaGlwRmFjdG9yeSA9IChuYW1lLCBsZW5ndGgsIC4uLmFyZ3MpID0+IHtcbiAgICBuYW1lO1xuICAgIGxldCBzaGlwTGVuZ3RoID0gbGVuZ3RoO1xuICAgIGxldCBoaXRDb3VudCA9IDA7XG4gICAgbGV0IHNoaXBMb2NhdGlvbnMgPSBhcmdzO1xuICAgIGxldCBoaXRMb2NhdGlvbnMgPSBhcmdzO1xuICAgIGxldCBzaGlwc1N1bmsgPSAwO1xuXG4gICAgLy9oaXQgbG9jYXRpb25zIHdpbGwgcmVhZCAnaGl0JyBpbnN0ZWFkIG9mIGxvY2F0aW9uIG51bWJlciBpZiBoaXRcbiAgICBmdW5jdGlvbiBoaXQobG9jYXRpb24pIHtcbiAgICAgICAgaGl0TG9jYXRpb25zW2hpdExvY2F0aW9ucy5pbmRleE9mKGxvY2F0aW9uKV09ICdoaXQnO1xuICAgICAgICBoaXRDb3VudCArPSAxO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU3VuayhzaGlwKSB7XG4gICAgICAgIGlmIChoaXRDb3VudCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICBzaGlwc1N1bmsgKz0gMTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtoaXQsIGlzU3Vuaywgc2hpcHNTdW5rLCBuYW1lLCBoaXRMb2NhdGlvbnN9O1xufVxuXG5jb25zdCBnYW1lYm9hcmRGYWN0b3J5ID0gKCkgPT4ge1xuICAgIGxldCBsb2NhdGlvbkFycmF5ID0gW107XG4gICAgbGV0IGFsbFNoaXBzQXJyYXkgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTAxOyBpKyspIHtcbiAgICAgICAgbG9jYXRpb25BcnJheVtpXSA9ICdlbXB0eSc7XG4gICAgfVxuXG4gICAgLy9zaGlwIGFyZ3VtZW50IGFuZCBuYW1lIGFyZ3VtZW50IG5lZWQgdG8gYmUgdGhlIHNhbWVcbiAgICBmdW5jdGlvbiBhZGRTaGlwKHNoaXAsIG5hbWUsIGxlbmd0aCwgLi4uYXJncykge1xuICAgICAgICBzaGlwID0gc2hpcEZhY3RvcnkobmFtZSwgbGVuZ3RoLCAuLi5hcmdzKTtcbiAgICAgICAgbGV0IHNoaXBUeXBlID0gbmFtZTtcbiAgICAgICAgbGV0IHNoaXBBcnJheSA9IGFyZ3M7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc2hpcFNwYWNlID0gc2hpcEFycmF5W2ldO1xuICAgICAgICAgICAgbG9jYXRpb25BcnJheVtzaGlwU3BhY2VdID0gYCR7c2hpcFR5cGV9YDtcbiAgICAgICAgfVxuICAgICAgICBhbGxTaGlwc0FycmF5LnB1c2goc2hpcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNWYWxpZEF0dGFja1NwYWNlKGxvY2F0aW9uKSB7XG4gICAgICAgIGlmIChsb2NhdGlvbkFycmF5W2xvY2F0aW9uXSAhPT0gJ21pc3MnICYmIGxvY2F0aW9uQXJyYXlbbG9jYXRpb25dICE9PSAnaGl0JyApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9jaGVjayBpZiBzaGlwIGlzIHByZXNlbnQgaW4gbG9jYXRpb25cbiAgICBmdW5jdGlvbiBpc1NoaXAobG9jYXRpb24pIHtcbiAgICAgICAgaWYgKGxvY2F0aW9uQXJyYXlbbG9jYXRpb25dICE9PSAnZW1wdHknICYmIGxvY2F0aW9uQXJyYXlbbG9jYXRpb25dICE9PSAnbWlzcycgJiYgbG9jYXRpb25BcnJheVtsb2NhdGlvbl0gIT09ICdoaXQnICkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWNlaXZlQXR0YWNrKGxvY2F0aW9uKSB7XG4gICAgICAgIGlmIChpc1NoaXAobG9jYXRpb24pID09PSB0cnVlKSB7XG4gICAgICAgICAgICBsZXQgc2hpcElEID0gbG9jYXRpb25BcnJheVtsb2NhdGlvbl07XG4gICAgICAgICAgICBsZXQgc2hpcCA9IGFsbFNoaXBzQXJyYXkuZmluZCgoeyBuYW1lIH0pID0+IG5hbWUgPT09IHNoaXBJRCk7XG4gICAgICAgICAgICBzaGlwLmhpdChsb2NhdGlvbik7XG4gICAgICAgICAgICBsb2NhdGlvbkFycmF5W2xvY2F0aW9uXSA9ICdoaXQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9jYXRpb25BcnJheVtsb2NhdGlvbl0gPSAnbWlzcyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL2NoZWNrIGlmIGFsbCBzaGlwcyBoYXZlIGJlZW4gc3Vua1xuICAgIGZ1bmN0aW9uIGNoZWNrQWxsU2hpcHMgKCkge1xuICAgICAgICBpZiAoc2hpcHNTdW5rID09PSA1KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7YWRkU2hpcCwgbG9jYXRpb25BcnJheSwgaXNWYWxpZEF0dGFja1NwYWNlLCBpc1NoaXAsIHJlY2VpdmVBdHRhY2ssIGFsbFNoaXBzQXJyYXksIGNoZWNrQWxsU2hpcHN9O1xufVxuXG5jb25zdCBQbGF5ZXIgPSAobmFtZSwgY3B1U3RhdHVzKSA9PiB7XG4gICAgbmFtZTtcblxuICAgIC8vVE9ETzogVEVTVFxuICAgIGZ1bmN0aW9uIGNwdUF0dGFjayAocGxheWVyQm9hcmQpIHtcbiAgICAgICAgbGV0IGF0dGFja0xvY2F0aW9uID0gKE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMDApICsgMSkpO1xuICAgICAgICBpZiAocGxheWVyQm9hcmQuaXNWYWxpZEF0dGFja1NwYWNlKGF0dGFja0xvY2F0aW9uKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcGxheWVyQm9hcmQucmVjZWl2ZUF0dGFjayhhdHRhY2tMb2NhdGlvbik7ICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2F0dGFja0xvY2F0aW9ufSBoYXMgbm90IGJlZW4gZmlyZWQgYXRgKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlcGVhdCcpO1xuICAgICAgICAgICAgY3B1QXR0YWNrKHBsYXllckJvYXJkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge25hbWUsIGNwdUF0dGFja307XG59XG5cblxuXG5sZXQgdGVzdEJvYXJkID0gZ2FtZWJvYXJkRmFjdG9yeSgpO1xudGVzdEJvYXJkLmFkZFNoaXAoJ2Rlc3Ryb3llcicsICdkZXN0cm95ZXInLCA0LCA2LCA3LCA4LCA5KTtcblxuY29uc3QgcGxheWVyMSA9IFBsYXllcignQnJ5YW4nLCBmYWxzZSk7XG5cbmNvbnN0IGNwdSA9IFBsYXllcignQ29tcHV0ZXInLCB0cnVlKTtcblxucmVuZGVyUGxheWVyQm9hcmQodGVzdEJvYXJkLmxvY2F0aW9uQXJyYXkpO1xucmVuZGVyQ1BVQm9hcmQodGVzdEJvYXJkLmxvY2F0aW9uQXJyYXkpO1xuY29uc29sZS50YWJsZSh0ZXN0Qm9hcmQubG9jYXRpb25BcnJheSk7XG5jb25zb2xlLnRhYmxlKHRlc3RCb2FyZC5hbGxTaGlwc0FycmF5KTtcblxuXG5leHBvcnQge1xuICAgIHNoaXBGYWN0b3J5LFxuICAgIGdhbWVib2FyZEZhY3RvcnksXG4gICAgUGxheWVyXG59XG5cblxuXG4vLyBpbXBvcnQge3JlbmRlclBsYXllckJvYXJkLCByZW5kZXJDUFVCb2FyZCwgdXBkYXRlQ1BVQm9hcmR9IGZyb20gJy4vZG9tJztcblxuXG4vLyBjb25zdCBzaGlwRmFjdG9yeSA9IChsZW5ndGgsIGhpdExvY2F0aW9ucywgeENvb3JkaW5hdGUsIHlDb29yZGluYXRlKSA9PiB7XG5cbi8vICAgICBsZXQgaGl0Q291bnQgPSAwO1xuXG4vLyAgICAgLy8gZnVuY3Rpb24gcGxhY2VTaGlwKHgseSkge1xuLy8gICAgIC8vICAgICB4Q29vcmRpbmF0ZSA9IHg7XG4vLyAgICAgLy8gICAgIHlDb29yZGluYXRlID0geTtcbi8vICAgICAvLyB9XG5cblxuLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbi8vICAgICAgICAgaGl0TG9jYXRpb25zW2ldID0gZmFsc2U7IFxuLy8gICAgIH07XG4gICAgXG4vLyAgICAgLy90YWtlcyBhIGxvY2F0aW9uIGFuZCBtYXJrcyBpdCBhcyBoaXRcbi8vICAgICAvL3VzZSBudW1lcmljIHN5c3RlbSBmb3IgZ3JpZD8gKDAtOTk/KSBvciB1c2UgYXJyYXkgb2YgYXJyYXlzPyAoW10gYnkgW10pLCBDVVJSRU5UIFNZU1RFTSBSRVFVSVJFUyBISVQgTE9DQVRJT05TIEFORCBDT09SRElOQVRFIElOREVYRVMgVE8gQUxJR05cbi8vICAgICBmdW5jdGlvbiBoaXQobG9jYXRpb24pIHtcbi8vICAgICAgICAgICAgIGhpdENvdW50ICs9IDE7ICAgXG4vLyAgICAgfVxuXG5cbi8vICAgICBmdW5jdGlvbiBpc1N1bmsoKSB7XG4vLyAgICAgICAgIGlmIChoaXRDb3VudCA9PT0gbGVuZ3RoKSB7XG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbi8vICAgICAgICAgfVxuLy8gICAgIH1cblxuLy8gICAgIHJldHVybiB7aGl0LCBpc1N1bmssIGhpdExvY2F0aW9ucywgeENvb3JkaW5hdGUsIHlDb29yZGluYXRlfTtcbi8vIH1cblxuLy8gY29uc3QgZ2FtZWJvYXJkRmFjdG9yeSA9ICgpID0+IHtcbi8vICAgICBsZXQgdG90YWxIaXRzID0gMDtcbi8vICAgICBsZXQgbG9jYXRpb25BcnJheSA9IFtdO1xuLy8gICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTAwOyBpKyspIHtcbi8vICAgICAgICAgbG9jYXRpb25BcnJheVtpXSA9ICd1bmtub3duJztcbi8vICAgICB9XG4gICAgXG5cbi8vICAgICBmdW5jdGlvbiBpc1NoaXAgKHgsIHkpIHtcbi8vICAgICAgICAgbGV0IHNoaXBMb2NhdGlvbiA9ICh5ICogMTApICsgeDtcbi8vICAgICAgICAgaWYobG9jYXRpb25BcnJheVtzaGlwTG9jYXRpb25dID09PSAnc2hpcCcpIHtcbi8vICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2Uge1xuLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuXG4vLyAgICAgLy9kZWZpbmUgc2hpcExvY2F0aW9uIGluIHNoaXAgRmFjdG9yeT9cblxuLy8gICAgIGZ1bmN0aW9uIGlzQXR0YWNrZWQgKGxvY2F0aW9uKSB7XG4vLyAgICAgICAgIGlmIChsb2NhdGlvbkFycmF5W2xvY2F0aW9uXSA9PT0gJ21pc3MnIHx8IGxvY2F0aW9uQXJyYXlbbG9jYXRpb25dID09PSAnaGl0Jykge1xuLy8gICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgZWxzZSB7XG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4vLyAgICAgICAgIH1cbi8vICAgICB9XG5cblxuLy8gICAgIGZ1bmN0aW9uIHJlY2VpdmVBdHRhY2soeCwgeSkge1xuLy8gICAgICAgICBpZiAoaXNTaGlwKHgsIHkpID09PSB0cnVlKSB7XG4vLyAgICAgICAgICAgICBoaXQoc2hpcCk7XG4vLyAgICAgICAgICAgICB0b3RhbEhpdHMgKz0gMTtcbi8vICAgICAgICAgICAgIGxldCBoaXRMb2NhdGlvbiA9ICh5ICogMTApICsgeDtcbi8vICAgICAgICAgICAgIGxvY2F0aW9uQXJyYXlbaGl0TG9jYXRpb25dID0gJ2hpdCc7XG4vLyAgICAgICAgICAgICBjaGVja0JvYXJkKCk7XG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbi8vICAgICAgICAgICAgIC8vdXNlIHN3aXRjaCBjYXNlICdkZXN0cm95ZXInLCBldGNcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgIGxldCBtaXNzTG9jYXRpb24gPSAoeSAqIDEwKSArIHg7XG4vLyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4vLyAgICAgICAgIH1cblxuLy8gICAgIH1cblxuLy8gICAgIGZ1bmN0aW9uIGNoZWNrQm9hcmQoKSB7XG4vLyAgICAgICAgIGlmICh0b3RhbEhpdHMgPT09IDE3KSB7XG4vLyAgICAgICAgICAgICBhbGVydCgnR2FtZSBPdmVyIScpO1xuLy8gICAgICAgICAgICAgLy9zcGVjaWZ5IHdobyB3b25cbi8vICAgICAgICAgfVxuLy8gICAgIH1cblxuLy8gICAgIHJldHVybiB7cmVjZWl2ZUF0dGFjaywgaXNBdHRhY2tlZCwgbG9jYXRpb25BcnJheX07XG4vLyB9XG5cbi8vIGNvbnN0IFBsYXllciA9IChuYW1lLCBjcHUpID0+IHtcbi8vICAgICBsZXQgcGxheWVyTmFtZSA9IG5hbWU7XG5cbi8vICAgICBmdW5jdGlvbiBjcHVBdHRhY2socGxheWVyQm9hcmQpIHtcbi8vICAgICAgICAgbGV0IGNwdVggPSAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApICsgMSk7XG4vLyAgICAgICAgIGxldCBjcHVZID0gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSArIDEpO1xuLy8gICAgICAgICBsZXQgY3B1QXR0YWNrTG9jYXRpb24gPSAoY3B1WSAqIDEwKSArIGNwdVg7XG4gICAgICAgIFxuLy8gICAgICAgICBpZiAocGxheWVyQm9hcmQuaXNBdHRhY2tlZCgpID09PSBmYWxzZSkge1xuLy8gICAgICAgICAgICAgcGxheWVyQm9hcmQucmVjZWl2ZUF0dGFjayhjcHVYLCBjcHVZKTsgIFxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2Uge1xuLy8gICAgICAgICAgICAgY3B1QXR0YWNrKHBsYXllckJvYXJkKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH1cblxuLy8gICAgIHJldHVybiB7Y3B1QXR0YWNrLCBwbGF5ZXJOYW1lfTtcbi8vIH1cblxuXG4vLyAvLyBzaGlwczpcbi8vIC8vIDUsNCwzLDMsMlxuLy8gLy8gMTAgYnkgMTAgZ2FtZWJvYXJkIChBLUosIDEtMTA/KVxuXG4vLyAvLyBmdW5jdGlvbiBnYW1lQ29udHJvbGxlcigpIHtcbi8vIC8vICAgICBsZXQgcGxheWVyQm9hcmQgPSBnYW1lYm9hcmRGYWN0b3J5KCk7XG4vLyAvLyAgICAgbGV0IGNvbXB1dGVyQm9hcmQgPSBnYW1lYm9hcmRGYWN0b3J5KCk7XG4vLyAvLyAgICAgbGV0IGh1bWFuUGxheWVyID0gUGxheWVyKCdCcnlhbicsIGZhbHNlKTtcbi8vIC8vICAgICBsZXQgY3B1UGxheWVyID0gUGxheWVyKCdDb21wdXRlcicsIHRydWUpO1xuICAgIFxuLy8gLy8gICAgIGxldCBwbGF5ZXJUdXJuID0gdHJ1ZTtcblxuLy8gICAgIC8vbmVlZCB3YXkgdG8gc3dpdGNoIGJldHdlZW4gcGxheWVyIGFuZCBjcHUgdHVyblxuLy8gLy8gfVxuXG4vLyAvL0RPTSBFTEVNRU5UU1xuXG5cblxuXG5cbi8vIC8vIGZ1bmN0aW9uIERPTUxpc3RlbmVyKCkge1xuICAgIFxuLy8gLy8gfVxuXG4vLyBsZXQgcGxheWVyQm9hcmQgPSBnYW1lYm9hcmRGYWN0b3J5KCk7XG4vLyBsZXQgY29tcHV0ZXJCb2FyZCA9IGdhbWVib2FyZEZhY3RvcnkoKTtcbi8vIGxldCBodW1hblBsYXllciA9IFBsYXllcignQnJ5YW4nLCBmYWxzZSk7XG4vLyBsZXQgY3B1UGxheWVyID0gUGxheWVyKCdDb21wdXRlcicsIHRydWUpO1xuXG4vLyByZW5kZXJQbGF5ZXJCb2FyZCgpO1xuLy8gcmVuZGVyQ1BVQm9hcmQoY29tcHV0ZXJCb2FyZCk7XG4vLyB1cGRhdGVDUFVCb2FyZChjb21wdXRlckJvYXJkLmxvY2F0aW9uQXJyYXkpO1xuXG4vLyBsZXQgdGVzdFJ1biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tjcHVkYXRhLWdyaWRZPVwiMlwiXVtjcHVkYXRhLWdyaWRYPVwiM1wiXScpO1xuXG4vLyB0ZXN0UnVuLnN0eWxlLmJhY2tncm91bmRDb2xvcj0gJ2dyZWVuJztcblxuLy8gY29tcHV0ZXJCb2FyZC5sb2NhdGlvbkFycmF5WzNdID0gJ3NoaXAnO1xuLy8gdXBkYXRlQ1BVQm9hcmQoY29tcHV0ZXJCb2FyZC5sb2NhdGlvbkFycmF5KTsiLCJcblxuZnVuY3Rpb24gcmVuZGVyUGxheWVyQm9hcmQoYXJyYXkpIHtcbiAgICBsZXQgcGxheWVyQm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyYm9hcmQnKTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IDEwMTsgaSsrKSB7XG4gICAgICAgIGxldCBncmlkU3BhY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZ3JpZFNwYWNlLmNsYXNzTGlzdCArPSAnZ3JpZFNwYWNlJztcbiAgICAgICAgZ3JpZFNwYWNlLnNldEF0dHJpYnV0ZSgnZGF0YS1ncmlkSUQnLCBpKVxuICAgICAgICAgICAgICAgIC8vVE9ETzogV1JJVEUgQ1NTIEZPUiBNSVNTIEFORCBISVQgKE1PVkUgVEhJUyBUTyBDUFUgQk9BUkQ/KVxuICAgICAgICBpZiAoYXJyYXlbaV0gPT09ICdoaXQnKSB7XG4gICAgICAgICAgICBncmlkU3BhY2UudGV4dENvbnRlbnQgPSAnaGl0JztcbiAgICAgICAgICAgIGdyaWRTcGFjZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnZ3JlZW4nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFycmF5W2ldID09PSAnbWlzcycpIHtcbiAgICAgICAgICAgIGdyaWRTcGFjZS50ZXh0Q29udGVudCA9ICdtaXNzJztcbiAgICAgICAgICAgIGdyaWRTcGFjZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmVkJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcnJheVtpXSA9PT0gJ2VtcHR5Jykge1xuICAgICAgICAgICAgZ3JpZFNwYWNlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBncmlkU3BhY2Uuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZXknO1xuICAgICAgICB9XG4gICAgICAgIHBsYXllckJvYXJkLmFwcGVuZENoaWxkKGdyaWRTcGFjZSk7XG5cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNQVUJvYXJkKGFycmF5KSB7XG4gICAgbGV0IGNwdUJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NwdWJvYXJkJyk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCAxMDE7IGkrKykge1xuICAgICAgICBsZXQgZ3JpZFNwYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGdyaWRTcGFjZS5jbGFzc0xpc3QgKz0gJ2dyaWRTcGFjZSc7XG4gICAgICAgIGdyaWRTcGFjZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3B1Z3JpZElEJywgaSlcbiAgICAgICAgaWYgKGFycmF5W2ldID09PSAnaGl0Jykge1xuICAgICAgICAgICAgZ3JpZFNwYWNlLnRleHRDb250ZW50ID0gJ2hpdCc7XG4gICAgICAgICAgICBncmlkU3BhY2Uuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcnJheVtpXSA9PT0gJ21pc3MnKSB7XG4gICAgICAgICAgICBncmlkU3BhY2UudGV4dENvbnRlbnQgPSAnbWlzcyc7XG4gICAgICAgICAgICBncmlkU3BhY2Uuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JlZCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXlbaV0gPT09ICdlbXB0eScpIHtcbiAgICAgICAgICAgIGdyaWRTcGFjZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnd2hpdGUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ3JpZFNwYWNlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdncmV5JztcbiAgICAgICAgfVxuICAgICAgICBjcHVCb2FyZC5hcHBlbmRDaGlsZChncmlkU3BhY2UpO1xuICAgICAgICB9XG59ICBcblxuXG5cbi8vIGZ1bmN0aW9uIHJlbmRlckNQVUJvYXJkKGJvYXJkKSB7XG4vLyAgICAgbGV0IGNwdUJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NwdWJvYXJkJyk7XG4vLyAgICAgbGV0IHhDb3VudCA9IDE7XG4vLyAgICAgbGV0IHlDb3VudCA9IDE7XG4vLyAgICAgbGV0IHlWYWx1ZSA9IDE7XG4vLyAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCAxMDE7IGkrKykge1xuLy8gICAgICAgICBsZXQgZ3JpZFNwYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAgICAgICAgIGdyaWRTcGFjZS5jbGFzc0xpc3QgKz0gJ2dyaWRTcGFjZSc7XG4vLyAgICAgICAgIGdyaWRTcGFjZS5zZXRBdHRyaWJ1dGUoJ2NwdWRhdGEtZ3JpZElEJywgaSk7XG4vLyAgICAgICAgIC8vc2V0IHRvICcnIG9ubHkgaWYgaW5pdGlhbGl6aW5nLCBhZGQgc3dpdGNoIGNhc2UgaW5zdGVhZCBvZiBpZj9cbi8vICAgICAgICAgaWYgKGdyaWRTcGFjZS5oYXNBdHRyaWJ1dGUoJ2NwdXNwYWNlc3RhdHVzJykgPT09IGZhbHNlKSB7XG4vLyAgICAgICAgICAgICBncmlkU3BhY2Uuc2V0QXR0cmlidXRlKCdjcHVzcGFjZXN0YXR1cycsICcnKTtcblxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2UgaWYgKGdyaWRTcGFjZS5nZXRBdHRyaWJ1dGUoJ2NwdXNwYWNlc3RhdHVzJykgPT09ICdtaXNzJykge1xuLy8gICAgICAgICAgICAgZ3JpZFNwYWNlLnRleHRDb250ZW50ID0gJ21pc3MnO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2UgaWYgKGdyaWRTcGFjZS5nZXRBdHRyaWJ1dGUoJ2NwdXNwYWNlc3RhdHVzJykgPT09ICdoaXQnKSB7XG4vLyAgICAgICAgICAgICBncmlkU3BhY2UudGV4dENvbnRlbnQgPSAnaGl0Jztcbi8vICAgICAgICAgfVxuXG4vLyAgICAgICAgIGlmICh4Q291bnQgPCAxMSkge1xuLy8gICAgICAgICAgICAgZ3JpZFNwYWNlLnNldEF0dHJpYnV0ZSgnY3B1ZGF0YS1ncmlkWCcsIHhDb3VudCk7XG4vLyAgICAgICAgICAgICB4Q291bnQgKz0gMTtcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgIHhDb3VudCA9IDE7XG4vLyAgICAgICAgICAgICBncmlkU3BhY2Uuc2V0QXR0cmlidXRlKCdjcHVkYXRhLWdyaWRYJywgeENvdW50KTtcbi8vICAgICAgICAgICAgIHhDb3VudCArPSAxO1xuLy8gICAgICAgICB9XG5cbi8vICAgICAgICAgaWYgKHlDb3VudCA8IDExKSB7XG4vLyAgICAgICAgICAgICBncmlkU3BhY2Uuc2V0QXR0cmlidXRlKCdjcHVkYXRhLWdyaWRZJywgeVZhbHVlKTtcbi8vICAgICAgICAgICAgIHlDb3VudCArPSAxO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2Uge1xuLy8gICAgICAgICAgICAgeVZhbHVlICs9IDE7XG4vLyAgICAgICAgICAgICBncmlkU3BhY2Uuc2V0QXR0cmlidXRlKCdjcHVkYXRhLWdyaWRZJywgeVZhbHVlKTtcbi8vICAgICAgICAgICAgIHlDb3VudCA9IDI7XG4vLyAgICAgICAgIH1cblxuXG5cbi8vICAgICAgICAgZ3JpZFNwYWNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuLy8gICAgICAgICAgICAgLy9jaGVjayBpZiBhIHNoaXAgaXMgdGhlcmUgYW5kIHNldCBzcGFjZSBzdGF0dXMgdG8gaGl0IGlmIHNvIGFuZCBtaXNzIGlmIG5vdCAocGxhY2UgZXZlbnRsaXN0ZW5lciBvdXRzaWRlIG9mIERPTSBhbmQganVzdCBjYWxsIGZ1bmN0aW9ucz8/KVxuLy8gICAgICAgICAgICAgbGV0IHNwYWNlU3RhdGUgPSBib2FyZC5yZWNlaXZlQXR0YWNrKChncmlkU3BhY2UuZ2V0QXR0cmlidXRlKCdjcHVkYXRhLWdyaWRYJykpICwgKGdyaWRTcGFjZS5nZXRBdHRyaWJ1dGUoJ2NwdWRhdGEtZ3JpZFknKSkpO1xuLy8gICAgICAgICAgICAgaWYgKHNwYWNlU3RhdGUgPT09IHRydWUpIHtcbi8vICAgICAgICAgICAgICAgICBncmlkU3BhY2Uuc2V0QXR0cmlidXRlKCdjcHVzcGFjZXN0YXR1cycsICdoaXQnKTtcbi8vICAgICAgICAgICAgICAgICBncmlkU3BhY2Uuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIGVsc2UgaWYgKHNwYWNlU3RhdGUgPT09IGZhbHNlKSB7XG4vLyAgICAgICAgICAgICAgICAgZ3JpZFNwYWNlLnNldEF0dHJpYnV0ZSgnY3B1c3BhY2VzdGF0dXMnLCAnbWlzcycpO1xuLy8gICAgICAgICAgICAgICAgIGdyaWRTcGFjZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IFwiYmx1ZVwiO1xuLy8gICAgICAgICAgICAgLy8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGFmdGVyIGNsaWNrIHRvIHByZXZlbnQgYnVnc1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9KVxuXG4vLyAgICAgICAgIGNwdUJvYXJkLmFwcGVuZENoaWxkKGdyaWRTcGFjZSk7XG4vLyAgICAgfVxuLy8gfVxuXG4vLyBmdW5jdGlvbiB1cGRhdGVDUFVCb2FyZChhcnJheSkge1xuLy8gICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTAxOyBpKyspIHtcbi8vICAgICAgICAgbGV0IGN1cnJlbnRHcmlkU3BhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbY3B1ZGF0YS1ncmlkaWQ9XCIke2l9XCJdYCk7XG4vLyAgICAgICAgIGN1cnJlbnRHcmlkU3BhY2Uuc2V0QXR0cmlidXRlKCdjcHVzcGFjZXN0YXR1cycsIGAke2FycmF5W2ldfWApO1xuLy8gICAgIH19XG5cblxuZXhwb3J0IHtcbiAgICByZW5kZXJQbGF5ZXJCb2FyZCwgXG4gICAgcmVuZGVyQ1BVQm9hcmRcbn07Il0sIm5hbWVzIjpbIlBsYXllciIsIm5hbWUiLCJjcHVTdGF0dXMiLCJjcHVBdHRhY2siLCJwbGF5ZXJCb2FyZCIsImF0dGFja0xvY2F0aW9uIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiaXNWYWxpZEF0dGFja1NwYWNlIiwicmVjZWl2ZUF0dGFjayIsImNvbnNvbGUiLCJsb2ciLCJ0ZXN0Qm9hcmQiLCJsb2NhdGlvbkFycmF5IiwiYWxsU2hpcHNBcnJheSIsImkiLCJpc1NoaXAiLCJsb2NhdGlvbiIsImFkZFNoaXAiLCJzaGlwIiwibGVuZ3RoIiwiYXJncyIsImhpdENvdW50IiwiaGl0TG9jYXRpb25zIiwic2hpcHNTdW5rIiwiaGl0IiwiaW5kZXhPZiIsImlzU3VuayIsInNoaXBGYWN0b3J5Iiwic2hpcFR5cGUiLCJzaGlwQXJyYXkiLCJzaGlwU3BhY2UiLCJwdXNoIiwic2hpcElEIiwiZmluZCIsImNoZWNrQWxsU2hpcHMiLCJnYW1lYm9hcmRGYWN0b3J5IiwiYXJyYXkiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ3JpZFNwYWNlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJhcHBlbmRDaGlsZCIsInJlbmRlclBsYXllckJvYXJkIiwiY3B1Qm9hcmQiLCJyZW5kZXJDUFVCb2FyZCIsInRhYmxlIl0sInNvdXJjZVJvb3QiOiIifQ==